<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Warm Up UK — Contract Builder</title>
<style>
  :root{
    --bg:#ffffff;
    --surface:#0f0f10;
    --ink:#111;
    --muted:#555;
    --gold:#C8A64B;     /* rich gold */
    --gold-2:#E2C66D;   /* lighter edge */
    --line:#e7e7ea;
    --pill:#111;
  }

  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}

  .wrap{max-width:1000px;margin:auto;padding:18px}

  /* Header card */
  .hero{
    background:
      radial-gradient(120% 120% at 0% 0%, #f6f3e4 0%, transparent 40%) ,
      linear-gradient(180deg,#111 0%, #1a1a1a 45%, #111 100%);
    color:#fff;border:1px solid rgba(255,255,255,.08);
    border-radius:16px;padding:18px;
    position:relative;overflow:hidden;
  }
  .hero-inner{display:flex;gap:18px;align-items:center}
  .brand-box{
    width:140px; height:140px; border-radius:14px;
    background:linear-gradient(180deg,#f7f2dc,#b89326 90%);
    display:grid; place-items:center; overflow:hidden;
    border:1px solid rgba(255,255,255,.25);
    box-shadow:0 5px 30px rgba(0,0,0,.25) inset, 0 10px 24px rgba(0,0,0,.25);
  }
  .brand-box img{
    width:95%; height:95%; object-fit:contain; display:block;
    filter:drop-shadow(0 2px 6px rgba(0,0,0,.25));
  }
  .hero-right{flex:1;display:flex;flex-direction:column;gap:12px}
  .addr{color:#d8d8d8;font-size:18px;line-height:1.35}
  .btn-row{display:flex;gap:12px;flex-wrap:wrap}
  .btn{
    appearance:none;border:0;cursor:pointer;border-radius:14px;
    padding:14px 18px;font-weight:700;letter-spacing:.2px
  }
  .btn-gold{background:linear-gradient(180deg,var(--gold-2),var(--gold));color:#141414}
  .btn-dark{background:#2a2a2a;color:#fff}
  .btn-ghost{background:transparent;color:#fff;border:1px solid rgba(255,255,255,.25)}
  .btn:active{transform:translateY(1px)}

  /* Section Card */
  .card{
    background:#fff;border:1px solid var(--line);border-radius:14px;padding:18px;margin-top:18px
  }
  .card h2{
    margin:0 0 14px;font-size:22px;letter-spacing:.4px;color:#000
  }
  .label{font-size:13px;color:var(--muted);margin:0 0 6px}
  .input, select, textarea{
    width:100%;padding:14px 14px;border:1px solid #d7d7db;border-radius:12px;background:#fff;font-size:16px
  }
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
  @media (max-width:720px){ .grid{grid-template-columns:1fr} .brand-box{width:110px;height:110px} .addr{font-size:16px} }

  /* Products table */
  table{width:100%;border-collapse:collapse}
  th,td{border-bottom:1px solid var(--line);padding:10px 8px;text-align:left;font-size:15px}
  th{font-weight:800;color:#222}
  .right{text-align:right}

  .totals{margin-top:10px;border-top:2px solid #111;padding-top:10px}
  .totals .row{display:flex;justify-content:space-between;padding:6px 0}
  .totals .grand{font-size:22px;font-weight:800;color:#A3842C}

  .mini{font-size:12px;color:#777;margin-top:6px}

  /* Waiver */
  .waiver{
    border:1px solid #ffd6d6;background:#fff7f7;border-radius:12px;padding:14px;position:relative
  }
  .waiver.flash{
    animation:flash 0.9s ease 1;
    box-shadow:0 0 0 3px #ffb5b5 inset;
  }
  @keyframes flash{
    0%{background:#fff7f7}
    35%{background:#ffe9e9}
    70%{background:#fff7f7}
    100%{background:#fff}
  }

  /* Signatures */
  .sig-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
  @media (max-width:720px){ .sig-grid{grid-template-columns:1fr} }
  .sig {border:1px dashed #c9c9ce;border-radius:10px;background:#fafafa; position:relative}
  canvas{width:100%;height:190px;border-radius:10px;display:block}
  .sig-tools{display:flex;gap:8px;margin-top:8px}
  .pill{background:#111;color:#fff;border-radius:999px;padding:8px 12px;border:0}
  .pill-outline{background:#fff;color:#111;border:1px solid #111}

  /* Print styling */
  @media print {
    body{background:#fff;color:#000}
    .btn-row,.btn,.signature-tools,.no-print{display:none !important}
    .hero{color:#000;background:#fff;border-color:#000}
    .hero-right .addr{color:#000}
    .card{page-break-inside:avoid}
  }
</style>
</head>
<body>
  <div class="wrap">
    <!-- HEADER -->
    <div class="hero">
      <div class="hero-inner">
        <div class="brand-box">
          <!-- Your logo (must be exactly warmupuklogo.jpg) -->
          <img src="warmupuklogo.jpg" alt="Warm Up UK logo" />
        </div>
        <div class="hero-right">
          <div class="addr">
            <strong>321–323 Romford High Road, Essex, RM6 6AX</strong>
          </div>
          <div class="btn-row">
            <button id="btnPrint" class="btn btn-gold">Generate PDF</button>
            <button id="btnReset" class="btn btn-dark">Reset Form</button>
          </div>
        </div>
      </div>
    </div>

    <!-- CUSTOMER -->
    <div class="card">
      <h2 style="color:#A3842C">Customer</h2>
      <div class="grid">
        <div>
          <div class="label">Customer Name</div>
          <input class="input" id="custName" placeholder="Full name"/>
        </div>
        <div>
          <div class="label">Phone (WhatsApp)</div>
          <input class="input" id="custPhone" inputmode="tel" placeholder="07..."/>
        </div>
        <div>
          <div class="label">Email</div>
          <input class="input" id="custEmail" inputmode="email" placeholder="name@email.com"/>
        </div>
        <div>
          <div class="label">Install / Survey Date</div>
          <input class="input" id="date" type="date"/>
        </div>
        <div>
          <div class="label">Address Line 1</div>
          <input class="input" id="addr1" placeholder="Street & number"/>
        </div>
        <div>
          <div class="label">Town / City</div>
          <input class="input" id="city" placeholder="Town / City"/>
        </div>
        <div>
          <div class="label">Postcode</div>
          <input class="input" id="pc" placeholder="e.g. RM6 6AX"/>
        </div>
      </div>
    </div>

    <!-- PRODUCTS -->
    <div class="card">
      <h2 style="color:#A3842C">Products & Pricing</h2>
      <div class="mini">Tap “Add line” to insert items. Figures auto-update. Admin fee £150 is applied automatically.</div>
      <div class="no-print" style="margin:10px 0">
        <button id="addLine" class="pill">+ Add line</button>
      </div>
      <div style="overflow-x:auto">
        <table id="tbl">
          <thead>
            <tr>
              <th style="width:22%">Product</th>
              <th>Description</th>
              <th style="width:90px">Qty</th>
              <th style="width:120px">Unit (£)</th>
              <th class="right" style="width:120px">Line total (£)</th>
              <th class="no-print" style="width:40px"></th>
            </tr>
          </thead>
          <tbody id="lines"></tbody>
        </table>
      </div>

      <div class="totals">
        <div class="row"><span>Subtotal</span><span id="subTotal">£0.00</span></div>
        <div class="row"><span>Admin Fee</span><span id="adminFee">£150.00</span></div>
        <div class="row"><span>VAT (0%)</span><span id="vat">£0.00</span></div>
        <div class="row grand"><span>Total</span><span id="grandTotal">£0.00</span></div>
      </div>
    </div>

    <!-- EXPRESS WAIVER -->
    <div class="card">
      <h2 style="color:#A3842C">Express Waiver (Optional)</h2>
      <label style="display:flex;gap:10px;align-items:center;margin-bottom:10px">
        <input id="waiverCheck" type="checkbox" />
        <span>I authorise **Express Waiver** and agree to the terms below.</span>
      </label>
      <div id="waiverBox" class="waiver">
        <div style="font-size:14px;color:#333;line-height:1.45">
          I confirm that I wish the work to begin within the statutory cooling-off period. I understand this means I may lose my right to cancel under the Consumer Contracts Regulations once the work is completed. Any materials specially ordered may be chargeable if I cancel after ordering.
        </div>
      </div>
    </div>

    <!-- SIGNATURES -->
    <div class="card">
      <h2 style="color:#A3842C">Signatures</h2>
      <div class="sig-grid">
        <div>
          <div class="label">Customer Signature</div>
          <div class="sig"><canvas id="sig1"></canvas></div>
          <div class="sig-tools no-print">
            <button class="pill pill-outline" data-clear="sig1">Clear</button>
          </div>
        </div>
        <div>
          <div class="label">Company Representative</div>
          <div class="sig"><canvas id="sig2"></canvas></div>
          <div class="sig-tools no-print">
            <button class="pill pill-outline" data-clear="sig2">Clear</button>
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="mini">
        © Warm Up UK — Contract Builder. All prices in GBP. This document can be printed or saved to PDF using the **Generate PDF** button.
      </div>
    </div>
  </div>

<script>
/* ---------- helpers ---------- */
const £ = (n)=>document.getElementById(n);
const fmt = (n)=>"£"+(n||0).toFixed(2);

/* ---------- products table ---------- */
const linesEl = $("lines");
function addRow(values={}){
  const tr = document.createElement("tr");
  tr.innerHTML = `
    <td><input class="input" placeholder="Product" value="${values.product||""}"></td>
    <td><input class="input" placeholder="Description" value="${values.desc||""}"></td>
    <td><input class="input qty" inputmode="decimal" value="${values.qty||""}"></td>
    <td><input class="input unit" inputmode="decimal" value="${values.unit||""}"></td>
    <td class="right lineTotal">£0.00</td>
    <td class="no-print"><button class="pill pill-outline del">×</button></td>
  `;
  linesEl.appendChild(tr);
  recalc();
  tr.querySelectorAll("input").forEach(i=>i.addEventListener("input",recalc));
  const del = tr.querySelector(".del");
  if(del) del.addEventListener("click", ()=>{ tr.remove(); recalc(); });
}
$("addLine").addEventListener("click", ()=> addRow());

function recalc(){
  let sub = 0;
  [...linesEl.querySelectorAll("tr")].forEach(tr=>{
    const qty = parseFloat(tr.querySelector(".qty")?.value)||0;
    const unit = parseFloat(tr.querySelector(".unit")?.value)||0;
    const line = qty*unit;
    sub += line;
    tr.querySelector(".lineTotal").textContent = fmt(line);
  });
  const admin = 150;
  const vat = 0;
  $("subTotal").textContent = fmt(sub);
  $("adminFee").textContent = fmt(admin);
  $("vat").textContent = fmt(vat);
  $("grandTotal").textContent = fmt(sub+admin+vat);
}
recalc();

/* ---------- waiver flash ---------- */
const waiverCheck = $("waiverCheck");
const waiverBox = $("waiverBox");
waiverCheck.addEventListener("change", ()=>{
  if(waiverCheck.checked){
    waiverBox.classList.remove("flash");
    // trigger reflow to restart animation
    void waiverBox.offsetWidth;
    waiverBox.classList.add("flash");
  } else {
    waiverBox.classList.remove("flash");
  }
});

/* ---------- signatures (simple canvas) ---------- */
function sigPad(canvasId){
  const c = $(canvasId);
  const ctx = c.getContext("2d");
  let drawing=false, prev=null;

  function resize(){
    const r = c.getBoundingClientRect();
    c.width = Math.round(r.width*2);
    c.height = Math.round(190*2);
    ctx.scale(2,2);
    ctx.lineWidth = 2;
    ctx.lineCap = "round";
    ctx.strokeStyle = "#111";
  }
  resize();
  window.addEventListener("resize", resize);

  function pos(e){
    const rect=c.getBoundingClientRect();
    const t = (e.touches? e.touches[0]: e);
    return {x:(t.clientX-rect.left), y:(t.clientY-rect.top)};
  }
  function start(e){ drawing=true; prev=pos(e); e.preventDefault(); }
  function move(e){
    if(!drawing) return;
    const p = pos(e);
    ctx.beginPath();
    ctx.moveTo(prev.x, prev.y);
    ctx.lineTo(p.x, p.y);
    ctx.stroke();
    prev = p;
    e.preventDefault();
  }
  function end(){ drawing=false }
  c.addEventListener("mousedown", start);
  c.addEventListener("mousemove", move);
  window.addEventListener("mouseup", end);

  c.addEventListener("touchstart", start, {passive:false});
  c.addEventListener("touchmove", move, {passive:false});
  c.addEventListener("touchend", end);

  return {clear:()=>ctx.clearRect(0,0,c.width,c.height)};
}
const sigA = sigPad("sig1");
const sigB = sigPad("sig2");
document.querySelectorAll("[data-clear]").forEach(btn=>{
  btn.addEventListener("click", ()=> {
    const id = btn.getAttribute("data-clear");
    (id==="sig1"?sigA:sigB).clear();
  });
});

/* ---------- buttons ---------- */
$("btnReset").addEventListener("click", ()=>{
  document.querySelectorAll(".input").forEach(i=>i.value="");
  linesEl.innerHTML="";
  addRow();
  waiverCheck.checked=false;
  waiverBox.classList.remove("flash");
  sigA.clear(); sigB.clear();
  recalc();
  window.scrollTo({top:0,behavior:"smooth"});
});

$("btnPrint").addEventListener("click", ()=> {
  // best cross-device PDF is the browser's print dialog
  window.print();
});

/* start with one line so it’s obvious */
if(!linesEl.children.length) addRow();
</script>
</body>
</html>
