<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="format-detection" content="telephone=no" />
<title>WARM UP UK – Contract</title>

<!-- PDF libs -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

<style>
  :root{
    --brand:#000;
    --accent:#d4af37;  /* gold accent */
    --danger:#d90000;  /* red for waiver */
    --line:#e8e8e8;
  }
  *{box-sizing:border-box}
  body{font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; margin:0; background:#f7f7f8; color:#111;}
  .sheet{max-width:900px; margin:16px auto; background:#fff; border:1px solid #ddd; border-radius:12px; padding:16px; box-shadow:0 3px 12px rgba(0,0,0,.06);}
  header{display:flex; gap:16px; align-items:center; border-bottom:1px solid var(--line); padding-bottom:12px;}
  header img.logo{width:120px; height:auto; object-fit:contain;}
  .brandblock{flex:1;}
  .brandblock h1{margin:0; font-size:26px; letter-spacing:.08em;}
  .brandblock .addr{margin-top:6px; font-size:14px; line-height:1.35; color:#333;}
  .meta{display:flex; gap:12px; flex-wrap:wrap; margin-top:12px;}
  .meta .box{flex:1 1 240px; background:#fafafa; border:1px solid var(--line); padding:10px; border-radius:8px;}
  .box label{display:block; font-size:12px; color:#555; margin-bottom:6px;}
  .box input, .box textarea, .box select{width:100%; border:1px solid #ccc; border-radius:6px; padding:10px; font-size:14px;}
  .section-title{font-weight:700; margin:18px 0 10px; font-size:16px;}
  table{width:100%; border-collapse:collapse; border:1px solid var(--line);}
  th, td{border-bottom:1px solid var(--line); padding:8px; text-align:left; vertical-align:middle;}
  th{background:#fbfbfb; font-size:13px;}
  .right{text-align:right}
  .controls{display:flex; gap:8px; flex-wrap:wrap; margin:14px 0 6px;}
  button{border:0; background:#111; color:#fff; padding:12px 14px; border-radius:10px; cursor:pointer; font-weight:700; font-size:14px;}
  button.secondary{background:#2f2f2f;}
  button.danger{background:var(--danger);}
  button:disabled{opacity:.6; cursor:not-allowed;}
  .switch{display:flex; align-items:center; gap:10px;}
  .tnc, .waiver, .notes, .signatures{border:1px solid var(--line); border-radius:8px; padding:12px; background:#fff; margin-top:12px;}
  .tnc ol{padding-left:18px;} .tnc li{margin:6px 0;}
  .waiver{border-color:var(--danger); position:relative;}
  .waiver .flash{position:absolute; top:8px; right:12px; font-weight:800; color:#fff; background:var(--danger); padding:4px 8px; border-radius:6px; animation:blink 1s infinite;}
  @keyframes blink{0%,49%{opacity:1} 50%,100%{opacity:.25}}
  .waiver.ack .flash{display:none;}
  .sig-wrap{display:grid; grid-template-columns:1fr 1fr; gap:12px;}
  .sig{border:1px dashed #bbb; border-radius:8px; padding:10px; background:#fafafa;}
  /* IMPORTANT for iOS touch */
  .sig canvas{width:100%; height:200px; background:#fff; border:1px solid #ddd; border-radius:6px; touch-action:none;}
  .sig .sig-row{display:flex; justify-content:space-between; align-items:center; margin-top:6px; gap:8px;}
  .fine{font-size:12px; color:#666;}
  .totals{display:grid; grid-template-columns:1fr 280px; gap:12px; margin-top:12px; align-items:start;}
  .panel{border:1px solid var(--line); border-radius:8px; padding:10px; background:#fafafa;}
  .summary{border:1px solid var(--line); border-radius:8px; padding:10px; background:#fff;}
  .summary .row{display:flex; justify-content:space-between; padding:6px 0; border-bottom:1px dashed #e3e3e3;}
  .summary .row:last-child{border-bottom:none;}
  .grand{font-size:18px; font-weight:800;}
  .pound{color:var(--accent); font-weight:800;}
  .footer-note{text-align:center; font-size:12px; color:#777; margin-top:10px;}
  #capture{padding:12px;}
  .avoid-break{break-inside:avoid; page-break-inside:avoid;}
  @media (max-width:720px){ .totals{grid-template-columns:1fr;} header{align-items:flex-start;} }
</style>
</head>
<body>
  <div id="capture" class="sheet">
    <header>
      <img class="logo" src="warmupuklogo.jpg" alt="WARM UP UK logo" />
      <div class="brandblock">
        <h1>WARM UP UK</h1>
        <div class="addr">
          321-323 Romford High Road, Essex RM6 6AX<br />
          <strong>Tel:</strong> 01708 300670
        </div>
      </div>
      <div class="box" style="max-width:230px">
        <label>Contract #</label>
        <input id="contractNo" readonly />
        <label>Date</label>
        <input id="contractDate" readonly />
      </div>
    </header>

    <div class="meta">
      <div class="box">
        <label>Customer Name</label>
        <input id="custName" placeholder="Full name" />
        <label>Property Address</label>
        <textarea id="custAddr" rows="3" placeholder="House/Street, Town, Postcode"></textarea>
      </div>
      <div class="box">
        <label>Phone</label>
        <input id="custPhone" placeholder="07…" />
        <label>Email</label>
        <input id="custEmail" placeholder="email@example.com" />
      </div>
    </div>

    <div class="section-title">Products / Services</div>
    <table id="productsTbl">
      <thead>
        <tr>
          <th style="width:50%">Product</th>
          <th style="width:15%">Qty</th>
          <th style="width:20%">Unit (£)</th>
          <th class="right" style="width:15%">Line Total (£)</th>
        </tr>
      </thead>
      <tbody id="prodBody"></tbody>
    </table>

    <div class="controls">
      <button type="button" id="addRowBtn" class="secondary">+ Add Row</button>
      <button type="button" id="delRowBtn" class="secondary">− Remove Last</button>
    </div>

    <div class="totals">
      <div class="panel">
        <div class="section-title" style="margin-top:0">Options</div>
        <div class="switch">
          <input type="checkbox" id="vatToggle" />
          <label for="vatToggle">Apply <strong>VAT 20%</strong></label>
        </div>
        <div class="fine">Admin Fee of <strong>£150</strong> is automatically applied.</div>
      </div>
      <div class="summary" id="totalsBox">
        <div class="row"><div>Subtotal</div><div>£ <span id="subtotal">0.00</span></div></div>
        <div class="row"><div>Admin Fee</div><div>£ <span id="adminFee">150.00</span></div></div>
        <div class="row"><div>VAT (20%)</div><div>£ <span id="vatAmt">0.00</span></div></div>
        <div class="row grand"><div>Grand Total</div><div><span class="pound">£</span> <span id="grand">150.00</span></div></div>
      </div>
    </div>

    <div class="notes">
      <div class="section-title" style="margin-top:0">Notes</div>
      <textarea id="notes" rows="4" placeholder="Any specific instructions or clarifications…"></textarea>
    </div>

    <div class="tnc avoid-break">
      <div class="section-title" style="margin-top:0">Terms &amp; Conditions (Summary)</div>
      <ol>
        <li>All works to be carried out by or on behalf of WARM UP UK to agreed specification.</li>
        <li>Customer responsible for providing safe access to all work areas.</li>
        <li>Any unforeseen remedial works (e.g., rotten timbers, vermin damage) will be quoted separately.</li>
        <li>Electrical/ventilation upgrades, if required by building guidance, may be chargeable.</li>
        <li>Payment terms: unless otherwise stated, balance due on completion.</li>
        <li>Materials remain property of WARM UP UK until paid in full.</li>
        <li>Cancellations within 14 days are subject to statutory rights; bespoke materials may incur charges.</li>
        <li>By signing, the customer confirms accuracy of details and authorises the work as described.</li>
      </ol
